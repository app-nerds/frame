/* Copyright Â© 2023 App Nerds LLC v1.4.0 */
/**
 * A wrapper around fetch that will show a spinner
 * while the request is being made. This is useful for
 * long running requests.
 * @param {string} url The URL to fetch
 * @param {object} options The fetch options
 * @param {object} spinner The spinner element to show
 * @param {number} msBeforeShowSpinner The number of milliseconds to wait before showing the spinner. Default is 1000
 * @returns {Promise<object>} A promise that resolves to the fetch response
 */
async function fetcher(url,options,spinner,msBeforeShowSpinner=1e3){let e,n;spinner&&(e=setTimeout(()=>{spinner.show()},msBeforeShowSpinner));try{n=await fetch(url,options)}finally{spinner&&(clearTimeout(e),spinner.hide())}return n}export{fetcher};